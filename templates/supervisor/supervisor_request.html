{% extends "base2.html" %}
{% block title %}Supervisor Dashboard{% endblock %}
{% block user %}Supervisor{% endblock %}

{% block profiledrop %}{% endblock %}

{% block content %}

<style>
  .nav-btn {
    background: transparent;
    color: #6b7280;
    transition: all 0.2s;
    border-radius: 8px;
    padding: 8px 16px;
    font-weight: 500;
  }
  
  .nav-btn.active, .nav-btn:hover {
    background: white;
    color: #111827;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .section-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    border: 1px solid #e5e7eb;
  }

  .request-card {
    transition: all 0.2s ease-in-out;
    border: 1px solid #e5e7eb;
  }

  .request-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    transform: translateY(-1px);
  }

  .status-badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .status-pending {
    background: #fef3c7;
    color: #92400e;
  }

  .status-approved {
    background: #d1fae5;
    color: #065f46;
  }

  .status-rejected {
    background: #fee2e2;
    color: #991b1b;
  }

  .empty-state {
    background: #f9fafb;
    border: 1px dashed #d1d5db;
    border-radius: 12px;
  }

  .user-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid;
  }

  .mentor-avatar {
    border-color: #10b981;
  }

  .mentee-avatar {
    border-color: #3b82f6;
  }
</style>

<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">

<!-- Header Section -->
<div class="mb-8">
  <h1 class="text-3xl font-bold text-gray-900">Supervisor Dashboard</h1>
  <p class="text-gray-600 mt-2">Manage mentorship requests and profile approvals</p>
</div>

<!-- Stats Overview -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
  <div class="section-card p-6">
    <div class="flex items-center">
      <div class="p-3 bg-blue-100 rounded-lg mr-4">
        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
        </svg>
      </div>
      <div>
        <p class="text-sm font-medium text-gray-600">Pending Requests</p>
        <p class="text-2xl font-bold text-gray-900">{{ all_requests|length if all_requests else 0 }}</p>
      </div>
    </div>
  </div>


</div>

<!-- Mentorship Requests Section -->
<section class="section-card p-6 mb-8">
  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6">
    <div>
      <h2 class="text-xl font-semibold text-gray-800">Mentorship Requests</h2>
      <p class="text-gray-600 mt-1">Review and approve mentorship connections</p>
    </div>
    <span class="status-badge status-pending mt-2 sm:mt-0">
      {{ all_requests|length if all_requests else 0 }} pending
    </span>
  </div>

  {% if all_requests and all_requests|length > 0 %}
  <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
    {% for request in all_requests %}
    <div class="request-card bg-white rounded-xl p-5">
      <!-- Header with Connection Flow -->
      <div class="flex items-center justify-between mb-4">
        <!-- Mentee -->
        <div class="flex items-center gap-3">
          {% if request.mentee.mentee_profile and request.mentee.mentee_profile.profile_picture %}
          <img src="{{ url_for('static', filename='uploads/' ~ request.mentee.mentee_profile.profile_picture) }}" 
               alt="{{ request.mentee.name }}" 
               class="user-avatar mentee-avatar">
          {% else %}
          <div class="user-avatar mentee-avatar bg-blue-100 flex items-center justify-center text-blue-600">
            <span class="text-sm font-semibold">{{ request.mentee.name[0] }}</span>
          </div>
          {% endif %}
          <div>
            <p class="font-semibold text-gray-800 text-sm">{{ request.mentee.name }}</p>
            <p class="text-xs text-gray-500">Mentee</p>
          </div>
        </div>

        <!-- Connection Arrow -->
        <div class="mx-2 text-gray-300">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
          </svg>
        </div>

        <!-- Mentor -->
        <div class="flex items-center gap-3">
          <div class="text-right">
            <p class="font-semibold text-gray-800 text-sm">{{ request.mentor.name }}</p>
            <p class="text-xs text-gray-500">Mentor</p>
          </div>
          {% if request.mentor.mentor_profile and request.mentor.mentor_profile.profile_picture %}
          <img src="{{ url_for('static', filename='uploads/' ~ request.mentor.mentor_profile.profile_picture) }}" 
               alt="{{ request.mentor.name }}" 
               class="user-avatar mentor-avatar">
          {% else %}
          <div class="user-avatar mentor-avatar bg-green-100 flex items-center justify-center text-green-600">
            <span class="text-sm font-semibold">{{ request.mentor.name[0] }}</span>
          </div>
          {% endif %}
        </div>
      </div>

      <!-- Request Details -->
      <div class="mb-4 p-3 bg-gray-50 rounded-lg">
        <div class="space-y-2 text-sm">
          <div class="flex justify-between">
            <span class="text-gray-600">Purpose:</span>
            <span class="font-medium text-gray-800 text-right">{{ request.purpose }}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600">Type:</span>
            <span class="font-medium text-gray-800">{{ request.mentor_type|title }}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600">Duration:</span>
            <span class="font-medium text-gray-800">{{ request.duration_months }} months</span>
          </div>
        </div>
        
        {% if request.why_need_mentor %}
        <div class="mt-3 pt-3 border-t border-gray-200">
          <span class="text-gray-600 text-sm block mb-1">Reason for mentorship:</span>
          <p class="text-gray-700 text-sm bg-white p-2 rounded border">{{ request.why_need_mentor }}</p>
        </div>
        {% endif %}
      </div>

      <!-- Status Indicators -->
      <div class="flex justify-between items-center mb-4">
        <div class="flex flex-col gap-1">
          <span class="text-xs text-gray-600">Mentor:</span>
          <span class="status-badge {% if request.mentor_status == 'accepted' %}status-approved{% elif request.mentor_status == 'rejected' %}status-rejected{% else %}status-pending{% endif %} text-xs">
            {{ request.mentor_status }}
          </span>
        </div>
        <div class="flex flex-col gap-1 items-end">
          <span class="text-xs text-gray-600">Your decision:</span>
          <span class="status-badge {% if request.supervisor_status == 'approved' %}status-approved{% elif request.supervisor_status == 'rejected' %}status-rejected{% else %}status-pending{% endif %} text-xs">
            {{ request.supervisor_status }}
          </span>
        </div>
      </div>

      <!-- Action Buttons -->
      {% if request.supervisor_status == 'pending' %}
      <div class="flex gap-2 mb-4">
        <button class="view-mentee-profile-btn flex-1 px-3 py-2 bg-blue-100 text-blue-700 text-xs font-medium rounded-lg hover:bg-blue-200 transition duration-200" 
          data-mentee-id="{{ request.mentee.id }}"
          data-mentee-name="{{ request.mentee.name }}"
          data-mentee-email="{{ request.mentee.email }}"
          {% if request.mentee.mentee_profile %}
          data-who-am-i="{{ request.mentee.mentee_profile.who_am_i or '' }}"
          data-education-level="{{ request.mentee.mentee_profile.education_level or '' }}"
          data-institution-name="{{ request.mentee.mentee_profile.institution_name or '' }}"
          data-board-university="{{ request.mentee.mentee_profile.board_university or '' }}"
          data-course-stream="{{ request.mentee.mentee_profile.course_stream or '' }}"
          data-school-name="{{ request.mentee.mentee_profile.school_name or '' }}"
          data-school-board="{{ request.mentee.mentee_profile.school_board or '' }}"
          data-school-passing-year="{{ request.mentee.mentee_profile.school_passing_year or '' }}"
          data-career-interest="{{ request.mentee.mentee_profile.career_interest or '' }}"
          data-current-role="{{ request.mentee.mentee_profile.current_role or '' }}"
          data-industry="{{ request.mentee.mentee_profile.industry or '' }}"
          data-years-experience="{{ request.mentee.mentee_profile.years_experience or '' }}"
          data-current-organization="{{ request.mentee.mentee_profile.current_organization or '' }}"
          data-key-skills="{{ request.mentee.mentee_profile.key_skills or '' }}"
          data-career-goal="{{ request.mentee.mentee_profile.career_goal or '' }}"
          data-startup-stage="{{ request.mentee.mentee_profile.startup_stage or '' }}"
          data-startup-name="{{ request.mentee.mentee_profile.startup_name or '' }}"
          data-startup-industry="{{ request.mentee.mentee_profile.startup_industry or '' }}"
          data-team-size="{{ request.mentee.mentee_profile.team_size or '' }}"
          data-main-challenge="{{ request.mentee.mentee_profile.main_challenge or '' }}"
          data-mentorship-type="{{ request.mentee.mentee_profile.mentorship_type or '' }}"
          data-freelance-skill="{{ request.mentee.mentee_profile.freelance_skill or '' }}"
          data-freelance-experience="{{ request.mentee.mentee_profile.freelance_experience or '' }}"
          data-freelance-platforms="{{ request.mentee.mentee_profile.freelance_platforms or '' }}"
          data-freelance-challenge="{{ request.mentee.mentee_profile.freelance_challenge or '' }}"
          data-last-role="{{ request.mentee.mentee_profile.last_role or '' }}"
          data-career-break-reason="{{ request.mentee.mentee_profile.career_break_reason or '' }}"
          data-restart-field="{{ request.mentee.mentee_profile.restart_field or '' }}"
          data-support-expected="{{ request.mentee.mentee_profile.support_expected or '' }}"
          data-dob="{{ request.mentee.mentee_profile.dob or '' }}"
          data-father-name="{{ request.mentee.mentee_profile.father_name or '' }}"
          data-address-line1="{{ request.mentee.mentee_profile.address_line1 or '' }}"
          data-address-line2="{{ request.mentee.mentee_profile.address_line2 or '' }}"
          data-city="{{ request.mentee.mentee_profile.city or '' }}"
          data-state="{{ request.mentee.mentee_profile.state or '' }}"
          data-postal-code="{{ request.mentee.mentee_profile.postal_code or '' }}"
          data-country="{{ request.mentee.mentee_profile.country or '' }}"
          data-institution="{{ request.mentee.mentee_profile.institution or '' }}"
          data-institution-other="{{ request.mentee.mentee_profile.institution_other or '' }}"
          data-school="{{ request.mentee.mentee_profile.school_college_name or '' }}"
          data-mobile="{{ request.mentee.mentee_profile.mobile_number or '' }}"
          data-mobile-country-code="{{ request.mentee.mentee_profile.mobile_country_code or '+91' }}"
          data-whatsapp="{{ request.mentee.mentee_profile.whatsapp_number or '' }}"
          data-whatsapp-country-code="{{ request.mentee.mentee_profile.whatsapp_country_code or '+91' }}"
          data-govt-private="{{ request.mentee.mentee_profile.govt_private or '' }}"
          data-stream="{{ request.mentee.mentee_profile.stream or '' }}"
          data-class="{{ request.mentee.mentee_profile.class_year or '' }}"
          data-favourite-subject="{{ request.mentee.mentee_profile.favourite_subject or '' }}"
          data-goal="{{ request.mentee.mentee_profile.goal or '' }}"
          data-parent-name="{{ request.mentee.mentee_profile.parent_name or '' }}"
          data-parent-mobile="{{ request.mentee.mentee_profile.parent_mobile or '' }}"
          data-parent-mobile-country-code="{{ request.mentee.mentee_profile.parent_mobile_country_code or '+91' }}"
          data-comments="{{ request.mentee.mentee_profile.comments or '' }}"
          data-mentorship-expectations="{{ request.mentee.mentee_profile.mentorship_expectations or '' }}"
          data-picture="{{ request.mentee.mentee_profile.profile_picture or '' }}"
          {% else %}
          data-debug-no-profile="true"
          {% endif %}>
          View Mentee Profile
        </button>
        <button class="view-mentor-profile-btn flex-1 px-3 py-2 bg-green-100 text-green-700 text-xs font-medium rounded-lg hover:bg-green-200 transition duration-200"
          data-mentor-id="{{ request.mentor.id }}"
          data-mentor-name="{{ request.mentor.name }}"
          data-mentor-email="{{ request.mentor.email }}"
          {% if request.mentor.mentor_profile %}
          data-profession="{{ request.mentor.mentor_profile.profession or '' }}"
          data-organisation="{{ request.mentor.mentor_profile.organisation or '' }}"
          data-experience="{{ request.mentor.mentor_profile.years_of_experience or '' }}"
          data-location="{{ request.mentor.mentor_profile.location or '' }}"
          data-education="{{ request.mentor.mentor_profile.education or '' }}"
          data-industry="{{ request.mentor.mentor_profile.industry_sector or '' }}"
          data-skills="{{ request.mentor.mentor_profile.skills or '' }}"
          data-why-mentor="{{ request.mentor.mentor_profile.why_mentor or '' }}"
          data-picture="{{ request.mentor.mentor_profile.profile_picture or '' }}"
          data-role="{{ request.mentor.mentor_profile.role or '' }}"
          data-whatsapp="{{ request.mentor.mentor_profile.whatsapp or '' }}"
          data-language="{{ request.mentor.mentor_profile.language or '' }}"
          data-highest-qualification="{{ request.mentor.mentor_profile.highest_qualification or '' }}"
          data-degree-name="{{ request.mentor.mentor_profile.degree_name or '' }}"
          data-field-of-study="{{ request.mentor.mentor_profile.field_of_study or '' }}"
          data-university-name="{{ request.mentor.mentor_profile.university_name or '' }}"
          data-graduation-year="{{ request.mentor.mentor_profile.graduation_year or '' }}"
          data-academic-status="{{ request.mentor.mentor_profile.academic_status or '' }}"
          data-certifications="{{ request.mentor.mentor_profile.certifications or '' }}"
          data-research-work="{{ request.mentor.mentor_profile.research_work or '' }}"
          data-linkedin-link="{{ request.mentor.mentor_profile.linkedin_link or '' }}"
          data-github-link="{{ request.mentor.mentor_profile.github_link or '' }}"
          data-portfolio-link="{{ request.mentor.mentor_profile.portfolio_link or '' }}"
          data-other-social-link="{{ request.mentor.mentor_profile.other_social_link or '' }}"
          data-mentorship-topics="{{ request.mentor.mentor_profile.mentorship_topics or '' }}"
          data-mentorship-type-preference="{{ request.mentor.mentor_profile.mentorship_type_preference or '' }}"
          data-preferred-communication="{{ request.mentor.mentor_profile.preferred_communication or '' }}"
          data-availability="{{ request.mentor.mentor_profile.availability or '' }}"
          data-connect-frequency="{{ request.mentor.mentor_profile.connect_frequency or '' }}"
          data-preferred-duration="{{ request.mentor.mentor_profile.preferred_duration or '' }}"
          data-mentorship-philosophy="{{ request.mentor.mentor_profile.mentorship_philosophy or '' }}"
          data-mentorship-motto="{{ request.mentor.mentor_profile.mentorship_motto or '' }}"
          data-additional-info="{{ request.mentor.mentor_profile.additional_info or '' }}"
          {% endif %}>
          View Mentor Profile
        </button>
      </div>
      <div class="flex gap-2">
        <form action="{{ url_for('supervisor_response') }}" method="POST" class="flex-1">
          <input type="hidden" name="request_id" value="{{ request.id }}">
          <input type="hidden" name="action" value="approve">
          <button type="submit" class="w-full px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition duration-200 flex items-center justify-center gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            Approve
          </button>
        </form>

        <form action="{{ url_for('supervisor_response') }}" method="POST" class="flex-1">
          <input type="hidden" name="request_id" value="{{ request.id }}">
          <input type="hidden" name="action" value="reject">
          <button type="submit" class="w-full px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition duration-200 flex items-center justify-center gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Reject
          </button>
        </form>
      </div>
      {% else %}
      <div class="text-center py-2">
        <span class="text-sm font-medium {% if request.supervisor_status == 'approved' %}text-green-600{% else %}text-red-600{% endif %}">
          You have {{ request.supervisor_status }} this request
        </span>
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
  
  {% else %}
  <div class="empty-state text-center py-12">
    <div class="mx-auto w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
    </div>
    <h3 class="text-lg font-medium text-gray-900 mb-1">No pending requests</h3>
    <p class="text-gray-500">All mentorship requests have been reviewed.</p>
  </div>
  {% endif %}
</section>



</main>

<!-- Updated Mentee Profile Modal -->
<div id="menteeProfileModal" class="fixed inset-0 hidden bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
  <div class="bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
    
    <!-- Header -->
    <div class="sticky top-0 bg-white z-10 px-6 pt-6 pb-4 border-b border-gray-200">
      <div class="flex justify-between items-center">
        <h2 class="text-xl font-bold text-gray-800">Mentee Profile</h2>
        <button onclick="closeMenteeProfileModal()" class="text-gray-400 hover:text-gray-600 transition">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Content -->
    <div class="p-6">
      <!-- Profile Header -->
      <div class="flex flex-col md:flex-row items-center gap-6 mb-8">
        <div class="relative">
          <img id="menteeModalProfilePic" src="" alt="Profile Picture"
            class="w-24 h-24 rounded-full object-cover border-4 border-blue-50">
        </div>
        <div class="text-center md:text-left">
          <h3 id="menteeModalName" class="text-2xl font-bold text-gray-800 mb-1"></h3>
          <p id="menteeModalEmail" class="text-sm text-gray-600 mb-3"></p>
          <div class="flex flex-wrap gap-2 justify-center md:justify-start">
            <span id="menteeModalStream" class="bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full"></span>
            <span id="menteeModalGoal" class="bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full"></span>
            <span id="menteeModalWhoAmI" class="bg-purple-100 text-purple-800 text-sm px-3 py-1 rounded-full capitalize"></span>
          </div>
        </div>
      </div>

      <!-- Dynamic Sections (Show only if data exists) -->
      <div class="space-y-6">
        <!-- Section 1: Personal Information -->
        <div id="personalInfoSection" class="bg-gray-50 p-4 rounded-lg" style="display: none;">
          <h4 class="font-semibold text-gray-800 mb-4 flex items-center">
            <svg class="w-5 h-5 text-blue-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
            Personal Information
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div id="dobField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Date of Birth</p>
              <p id="menteeModalDOB" class="text-gray-800"></p>
            </div>
            <div id="fatherNameField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Father's Name</p>
              <p id="menteeModalFatherName" class="text-gray-800"></p>
            </div>
            <div id="mobileField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Mobile Number</p>
              <p id="menteeModalMobile" class="text-gray-800"></p>
            </div>
            <div id="whatsappField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">WhatsApp Number</p>
              <p id="menteeModalWhatsapp" class="text-gray-800"></p>
            </div>
            <div id="parentNameField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Emergency Mobile Number</p>
              <p id="menteeModalParentName" class="text-gray-800"></p>
            </div>
            <div id="parentMobileField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Emergency Mobile Number</p>
              <p id="menteeModalParentMobile" class="text-gray-800"></p>
            </div>
          </div>
        </div>

        <!-- Section 2: Address Information -->
        <div id="addressSection" class="bg-gray-50 p-4 rounded-lg" style="display: none;">
          <h4 class="font-semibold text-gray-800 mb-4 flex items-center">
            <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            Address Information
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div id="addressLine1Field" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Address Line 1</p>
              <p id="menteeModalAddressLine1" class="text-gray-800"></p>
            </div>
            <div id="addressLine2Field" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Address Line 2</p>
              <p id="menteeModalAddressLine2" class="text-gray-800"></p>
            </div>
            <div id="cityField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">City</p>
              <p id="menteeModalCity" class="text-gray-800"></p>
            </div>
            <div id="stateField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">State</p>
              <p id="menteeModalState" class="text-gray-800"></p>
            </div>
            <div id="postalCodeField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Postal Code</p>
              <p id="menteeModalPostalCode" class="text-gray-800"></p>
            </div>
            <div id="countryField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Country</p>
              <p id="menteeModalCountry" class="text-gray-800"></p>
            </div>
          </div>
        </div>

        <!-- Section 3: Educational Information -->
        <div id="educationSection" class="bg-gray-50 p-4 rounded-lg" style="display: none;">
          <h4 class="font-semibold text-gray-800 mb-4 flex items-center">
            <svg class="w-5 h-5 text-purple-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0v6" />
            </svg>
            Educational Information
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div id="educationLevelField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Education Level</p>
              <p id="menteeModalEducationLevel" class="text-gray-800"></p>
            </div>
            <div id="schoolCollegeField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">School/College</p>
              <p id="menteeModalSchoolCollege" class="text-gray-800"></p>
            </div>
            <div id="classYearField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Class/Year</p>
              <p id="menteeModalClassYear" class="text-gray-800"></p>
            </div>
            <div id="govtPrivateField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Institution Type</p>
              <p id="menteeModalGovtPrivate" class="text-gray-800"></p>
            </div>
            <div id="favouriteSubjectField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Favourite Subject</p>
              <p id="menteeModalFavouriteSubject" class="text-gray-800"></p>
            </div>
          </div>
        </div>

        <!-- Section 4: University Details (if applicable) -->
        <div id="universitySection" class="bg-gray-50 p-4 rounded-lg" style="display: none;">
          <h4 class="font-semibold text-gray-800 mb-4 flex items-center">
            <svg class="w-5 h-5 text-indigo-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4" />
            </svg>
            University Details
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div id="institutionNameField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Institution Name</p>
              <p id="menteeModalInstitutionName" class="text-gray-800"></p>
            </div>
            <div id="boardUniversityField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">University/Board</p>
              <p id="menteeModalBoardUniversity" class="text-gray-800"></p>
            </div>
            <div id="courseStreamField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Course/Stream</p>
              <p id="menteeModalCourseStream" class="text-gray-800"></p>
            </div>
          </div>
        </div>

        <!-- Section 5: Professional Information (for professionals) -->
        <div id="professionalSection" class="bg-gray-50 p-4 rounded-lg" style="display: none;">
          <h4 class="font-semibold text-gray-800 mb-4 flex items-center">
            <svg class="w-5 h-5 text-orange-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6" />
            </svg>
            Professional Information
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div id="currentRoleField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Current Role</p>
              <p id="menteeModalCurrentRole" class="text-gray-800"></p>
            </div>
            <div id="industryField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Industry</p>
              <p id="menteeModalIndustry" class="text-gray-800"></p>
            </div>
            <div id="yearsExperienceField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Years of Experience</p>
              <p id="menteeModalYearsExperience" class="text-gray-800"></p>
            </div>
            <div id="currentOrganizationField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Current Organization</p>
              <p id="menteeModalCurrentOrganization" class="text-gray-800"></p>
            </div>
            <div id="keySkillsField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Key Skills</p>
              <p id="menteeModalKeySkills" class="text-gray-800"></p>
            </div>
          </div>
        </div>

        <!-- Section 6: Career Information -->
        <div id="careerSection" class="bg-gray-50 p-4 rounded-lg" style="display: none;">
          <h4 class="font-semibold text-gray-800 mb-4 flex items-center">
            <svg class="w-5 h-5 text-amber-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            Career Information
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div id="careerGoalField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Career Goal</p>
              <p id="menteeModalCareerGoal" class="text-gray-800"></p>
            </div>
            <div id="careerInterestField" style="display: none;">
              <p class="text-sm font-medium text-gray-600">Career Interest</p>
              <p id="menteeModalCareerInterest" class="text-gray-800"></p>
            </div>
          </div>
        </div>

        <!-- Section 7: Mentorship Expectations -->
        <div id="expectationsSection" class="bg-gray-50 p-4 rounded-lg" style="display: none;">
          <h4 class="font-semibold text-gray-800 mb-4 flex items-center">
            <svg class="w-5 h-5 text-pink-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Mentorship Expectations
          </h4>
          <div class="bg-white p-4 rounded border border-gray-200">
            <p id="menteeModalExpectations" class="text-gray-800"></p>
          </div>
        </div>

        <!-- Section 8: Comments -->
        <div id="commentsSection" class="bg-gray-50 p-4 rounded-lg" style="display: none;">
          <h4 class="font-semibold text-gray-800 mb-4 flex items-center">
            <svg class="w-5 h-5 text-gray-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
            </svg>
            Additional Comments
          </h4>
          <div class="bg-white p-4 rounded border border-gray-200">
            <p id="menteeModalComments" class="text-gray-800"></p>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="mt-8 pt-6 border-t border-gray-200 flex justify-end">
        <button onclick="closeMenteeProfileModal()" class="px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 font-medium">Close</button>
      </div>
    </div>
  </div>
</div>


<!-- Mentor Profile Modal -->
<div id="mentorProfileModal" class="fixed inset-0 hidden bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
  <div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative">
    <!-- Close Button -->
    <button onclick="closeMentorProfileModal()" class="absolute top-5 right-5 text-gray-400 hover:text-gray-600 transition-colors duration-200 text-xl bg-white rounded-full p-1 shadow-sm z-10">âœ•</button>
    
    <!-- Header -->
    <div class="sticky top-0 bg-white z-10 px-8 pt-8 pb-4 border-b border-gray-100">
      <h2 class="text-2xl font-bold text-gray-800 flex items-center">
        <svg class="w-6 h-6 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
        Mentor Profile
      </h2>
    </div>
    
    <!-- Content -->
    <div class="p-8">
      <!-- Profile Picture + Basic Info -->
      <div class="flex flex-col md:flex-row items-center gap-6 mb-8">
        <img id="mentorProfilePic" src="" alt="Profile" class="w-28 h-28 rounded-full object-cover border-4 border-green-50 shadow-sm">
        <div class="text-center md:text-left">
          <h3 id="mentorName" class="text-2xl font-bold text-gray-800 mb-1"></h3>
          <p id="mentorEmail" class="text-sm text-gray-600 mb-3"></p>
        </div>
      </div>
      
      <!-- Details Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-gray-700 mb-8">
        <div class="space-y-4">
          <h4 class="font-semibold text-gray-800 mb-3 border-b pb-2">Professional Details</h4>
          <div class="flex items-start">
            <svg class="w-5 h-5 text-gray-400 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"></path></svg>
            <div>
              <p class="font-medium text-gray-600">Profession</p>
              <p id="mentorProfession" class="text-gray-800"></p>
            </div>
          </div>
          <div class="flex items-start">
            <svg class="w-5 h-5 text-gray-400 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
            <div>
              <p class="font-medium text-gray-600">Role/Position</p>
              <p id="mentorRole" class="text-gray-800"></p>
            </div>
          </div>
          <div class="flex items-start">
            <svg class="w-5 h-5 text-gray-400 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
            <div>
              <p class="font-medium text-gray-600">Organisation</p>
              <p id="mentorOrganisation" class="text-gray-800"></p>
            </div>
          </div>
          <div class="flex items-start">
            <svg class="w-5 h-5 text-gray-400 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            <div>
              <p class="font-medium text-gray-600">Years of Experience</p>
              <p id="mentorExperience" class="text-gray-800"></p>
            </div>
          </div>
        </div>
        
        <div class="space-y-4">
          <h4 class="font-semibold text-gray-800 mb-3 border-b pb-2">Contact & Location</h4>
          <div class="flex items-start">
            <svg class="w-5 h-5 text-gray-400 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
            <div>
              <p class="font-medium text-gray-600">Location</p>
              <p id="mentorLocation" class="text-gray-800"></p>
            </div>
          </div>
          <div class="flex items-start">
            <svg class="w-5 h-5 text-gray-400 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
            <div>
              <p class="font-medium text-gray-600">WhatsApp</p>
              <p id="mentorWhatsapp" class="text-gray-800"></p>
            </div>
          </div>
          <div class="flex items-start">
            <svg class="w-5 h-5 text-gray-400 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12l-9 6-9-6z"></path></svg>
            <div>
              <p class="font-medium text-gray-600">Languages</p>
              <p id="mentorLanguage" class="text-gray-800"></p>
            </div>
          </div>
        </div>
      </div>

      <!-- Education Section -->
      <div class="mb-8">
        <h4 class="font-semibold text-gray-800 flex items-center mb-4">
          <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0v6"></path></svg>
          Educational Background
        </h4>
        <div class="bg-gray-50 p-5 rounded-lg border border-gray-100">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
              <p class="font-medium text-gray-600 text-sm">Highest Qualification</p>
              <p id="mentorHighestQualification" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Degree</p>
              <p id="mentorDegreeName" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Field of Study</p>
              <p id="mentorFieldOfStudy" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">University</p>
              <p id="mentorUniversityName" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Graduation Year</p>
              <p id="mentorGraduationYear" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Academic Status</p>
              <p id="mentorAcademicStatus" class="text-gray-800"></p>
            </div>
          </div>
          <div id="mentorCertificationsSection" class="mb-4" style="display: none;">
            <p class="font-medium text-gray-600 text-sm mb-2">Certifications</p>
            <p id="mentorCertifications" class="text-gray-800 bg-white p-3 rounded border"></p>
          </div>
          <div id="mentorResearchSection" class="mb-4" style="display: none;">
            <p class="font-medium text-gray-600 text-sm mb-2">Research Work</p>
            <p id="mentorResearchWork" class="text-gray-800 bg-white p-3 rounded border"></p>
          </div>
        </div>
      </div>

      <!-- Skills & Industry Section -->
      <div class="mb-8">
        <h4 class="font-semibold text-gray-800 flex items-center mb-4">
          <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
          Skills & Industry
        </h4>
        <div class="bg-gray-50 p-5 rounded-lg border border-gray-100">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <p class="font-medium text-gray-600 text-sm mb-2">Industry & Sector</p>
              <p id="mentorIndustry" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm mb-2">Skills</p>
              <p id="mentorSkills" class="text-gray-800"></p>
            </div>
          </div>
        </div>
      </div>

      <!-- Social Links Section -->
      <div id="mentorSocialLinksSection" class="mb-8" style="display: none;">
        <h4 class="font-semibold text-gray-800 flex items-center mb-4">
          <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
          Social Links
        </h4>
        <div class="bg-gray-50 p-5 rounded-lg border border-gray-100">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div id="mentorLinkedInDiv" style="display: none;">
              <p class="font-medium text-gray-600 text-sm">LinkedIn</p>
              <a id="mentorLinkedIn" href="#" target="_blank" class="text-blue-600 hover:text-blue-800 break-all"></a>
            </div>
            <div id="mentorGitHubDiv" style="display: none;">
              <p class="font-medium text-gray-600 text-sm">GitHub</p>
              <a id="mentorGitHub" href="#" target="_blank" class="text-blue-600 hover:text-blue-800 break-all"></a>
            </div>
            <div id="mentorPortfolioDiv" style="display: none;">
              <p class="font-medium text-gray-600 text-sm">Portfolio</p>
              <a id="mentorPortfolio" href="#" target="_blank" class="text-blue-600 hover:text-blue-800 break-all"></a>
            </div>
            <div id="mentorOtherSocialDiv" style="display: none;">
              <p class="font-medium text-gray-600 text-sm">Other Social Link</p>
              <a id="mentorOtherSocial" href="#" target="_blank" class="text-blue-600 hover:text-blue-800 break-all"></a>
            </div>
          </div>
        </div>
      </div>

      <!-- Mentorship Preferences Section -->
      <div class="mb-8">
        <h4 class="font-semibold text-gray-800 flex items-center mb-4">
          <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path></svg>
          Mentorship Preferences
        </h4>
        <div class="bg-gray-50 p-5 rounded-lg border border-gray-100">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
              <p class="font-medium text-gray-600 text-sm">Mentorship Topics</p>
              <p id="mentorMentorshipTopics" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Type Preference</p>
              <p id="mentorMentorshipTypePreference" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Preferred Communication</p>
              <p id="mentorPreferredCommunication" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Availability</p>
              <p id="mentorAvailability" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Connect Frequency</p>
              <p id="mentorConnectFrequency" class="text-gray-800"></p>
            </div>
            <div>
              <p class="font-medium text-gray-600 text-sm">Preferred Duration</p>
              <p id="mentorPreferredDuration" class="text-gray-800"></p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Why Mentor Section -->
      <div class="mb-8">
        <h4 class="font-semibold text-gray-800 flex items-center mb-4">
          <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
          Why I Became a Mentor
        </h4>
        <div class="bg-gray-50 p-5 rounded-lg border border-gray-100">
          <p id="mentorWhyMentor" class="text-gray-600 italic"></p>
        </div>
      </div>

      <!-- Mentorship Philosophy Section -->
      <div id="mentorPhilosophySection" class="mb-8" style="display: none;">
        <h4 class="font-semibold text-gray-800 flex items-center mb-4">
          <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
          Mentorship Philosophy
        </h4>
        <div class="bg-gray-50 p-5 rounded-lg border border-gray-100">
          <div id="mentorMottoDiv" class="mb-4" style="display: none;">
            <p class="font-medium text-gray-600 text-sm mb-2">Mentorship Motto</p>
            <p id="mentorMentorshipMotto" class="text-gray-800 italic bg-white p-3 rounded border font-medium"></p>
          </div>
          <p id="mentorMentorshipPhilosophy" class="text-gray-600"></p>
        </div>
      </div>

      <!-- Additional Information Section -->
      <div id="mentorAdditionalInfoSection" class="mb-8" style="display: none;">
        <h4 class="font-semibold text-gray-800 flex items-center mb-4">
          <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          Additional Information
        </h4>
        <div class="bg-gray-50 p-5 rounded-lg border border-gray-100">
          <p id="mentorAdditionalInfo" class="text-gray-600"></p>
        </div>
      </div>
      
      <!-- Footer Buttons -->
      <div class="flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-gray-100">
        <button onclick="closeMentorProfileModal()" class="px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 font-medium">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
// Mentee Profile Functions
function openMenteeProfileModal(mentee) {
    console.log("Opening modal with mentee data:", mentee);
    
    function showField(fieldId, elementId, value) {
        const field = document.getElementById(fieldId);
        const valueElement = document.getElementById(elementId);
        
        if (!field || !valueElement) {
            console.warn(`Missing element: ${fieldId} or ${elementId}`);
            return false;
        }
        
        if (value && value !== "" && value !== "None" && value !== "null" && value !== "Not specified") {
            valueElement.innerText = value;
            field.style.display = 'block';
            return true;
        } else {
            field.style.display = 'none';
            return false;
        }
    }

    function showSection(sectionId, show) {
        const section = document.getElementById(sectionId);
        if (section) {
            section.style.display = show ? 'block' : 'none';
        }
    }

    // Basic info (always show)
    document.getElementById('menteeModalName').innerText = mentee.name || "Not specified";
    document.getElementById('menteeModalStream').innerText = mentee.stream || "Not specified";
    document.getElementById('menteeModalGoal').innerText = mentee.goal || "Not specified";
    document.getElementById('menteeModalEmail').innerText = mentee.email || "Not specified";
    document.getElementById('menteeModalWhoAmI').innerText = (mentee.who_am_i || "").charAt(0).toUpperCase() + (mentee.who_am_i || "").slice(1);
    
    // Profile picture
    const profilePic = document.getElementById('menteeModalProfilePic');
    if (mentee.profile_picture) {
        profilePic.src = "/static/uploads/" + mentee.profile_picture;
    } else {
        profilePic.src = "https://via.placeholder.com/96?text=" + (mentee.name ? mentee.name.charAt(0) : "?");
    }

    // Hide all sections initially
    showSection('personalInfoSection', false);
    showSection('addressSection', false);
    showSection('educationSection', false);
    showSection('universitySection', false);
    showSection('professionalSection', false);
    showSection('careerSection', false);
    showSection('expectationsSection', false);
    showSection('commentsSection', false);

    // Personal Information Section
    let hasPersonalInfo = false;
    hasPersonalInfo |= showField('dobField', 'menteeModalDOB', mentee.dob);
    hasPersonalInfo |= showField('fatherNameField', 'menteeModalFatherName', mentee.father_name);
    
    // Format mobile numbers with country code
    if (mentee.mobile_number && mentee.mobile_number !== "None") {
        const mobileDisplay = mentee.mobile_country_code ? `${mentee.mobile_country_code} ${mentee.mobile_number}` : mentee.mobile_number;
        hasPersonalInfo |= showField('mobileField', 'menteeModalMobile', mobileDisplay);
    }
    
    if (mentee.whatsapp_number && mentee.whatsapp_number !== "None") {
        const whatsappDisplay = mentee.whatsapp_country_code ? `${mentee.whatsapp_country_code} ${mentee.whatsapp_number}` : mentee.whatsapp_number;
        hasPersonalInfo |= showField('whatsappField', 'menteeModalWhatsapp', whatsappDisplay);
    }
    
    hasPersonalInfo |= showField('parentNameField', 'menteeModalParentName', mentee.parent_name);
    
    if (mentee.parent_mobile && mentee.parent_mobile !== "None") {
        const parentMobileDisplay = mentee.parent_mobile_country_code ? `${mentee.parent_mobile_country_code} ${mentee.parent_mobile}` : mentee.parent_mobile;
        hasPersonalInfo |= showField('parentMobileField', 'menteeModalParentMobile', parentMobileDisplay);
    }
    
    showSection('personalInfoSection', hasPersonalInfo);

    // Address Information Section
    let hasAddressInfo = false;
    hasAddressInfo |= showField('addressLine1Field', 'menteeModalAddressLine1', mentee.address_line1);
    hasAddressInfo |= showField('addressLine2Field', 'menteeModalAddressLine2', mentee.address_line2);
    hasAddressInfo |= showField('cityField', 'menteeModalCity', mentee.city);
    hasAddressInfo |= showField('stateField', 'menteeModalState', mentee.state);
    hasAddressInfo |= showField('postalCodeField', 'menteeModalPostalCode', mentee.postal_code);
    hasAddressInfo |= showField('countryField', 'menteeModalCountry', mentee.country);
    showSection('addressSection', hasAddressInfo);

    // Educational Information Section
    let hasEducationInfo = false;
    hasEducationInfo |= showField('educationLevelField', 'menteeModalEducationLevel', mentee.education_level);
    hasEducationInfo |= showField('schoolCollegeField', 'menteeModalSchoolCollege', mentee.school_college_name);
    hasEducationInfo |= showField('classYearField', 'menteeModalClassYear', mentee.class_year);
    hasEducationInfo |= showField('govtPrivateField', 'menteeModalGovtPrivate', mentee.govt_private);
    hasEducationInfo |= showField('favouriteSubjectField', 'menteeModalFavouriteSubject', mentee.favourite_subject);
    showSection('educationSection', hasEducationInfo);

    // University Details Section (show only if data exists)
    let hasUniversityInfo = false;
    hasUniversityInfo |= showField('institutionNameField', 'menteeModalInstitutionName', mentee.institution_name);
    hasUniversityInfo |= showField('boardUniversityField', 'menteeModalBoardUniversity', mentee.board_university);
    hasUniversityInfo |= showField('courseStreamField', 'menteeModalCourseStream', mentee.course_stream);
    showSection('universitySection', hasUniversityInfo);

    // Professional Information Section (show only if who_am_i is 'professional')
    let hasProfessionalInfo = false;
    if (mentee.who_am_i === 'professional') {
        hasProfessionalInfo |= showField('currentRoleField', 'menteeModalCurrentRole', mentee.current_role);
        hasProfessionalInfo |= showField('industryField', 'menteeModalIndustry', mentee.industry);
        hasProfessionalInfo |= showField('yearsExperienceField', 'menteeModalYearsExperience', mentee.years_experience);
        hasProfessionalInfo |= showField('currentOrganizationField', 'menteeModalCurrentOrganization', mentee.current_organization);
        hasProfessionalInfo |= showField('keySkillsField', 'menteeModalKeySkills', mentee.key_skills);
        showSection('professionalSection', hasProfessionalInfo);
    }

    // Career Information Section
    let hasCareerInfo = false;
    hasCareerInfo |= showField('careerGoalField', 'menteeModalCareerGoal', mentee.career_goal || mentee.goal);
    hasCareerInfo |= showField('careerInterestField', 'menteeModalCareerInterest', mentee.career_interest);
    showSection('careerSection', hasCareerInfo);

    // Mentorship Expectations Section
    if (mentee.mentorship_expectations && mentee.mentorship_expectations !== "" && mentee.mentorship_expectations !== "None") {
        document.getElementById('menteeModalExpectations').innerText = mentee.mentorship_expectations;
        showSection('expectationsSection', true);
    }

    // Comments Section
    if (mentee.comments && mentee.comments !== "" && mentee.comments !== "None") {
        document.getElementById('menteeModalComments').innerText = mentee.comments;
        showSection('commentsSection', true);
    }

    // Show modal
    document.getElementById('menteeProfileModal').classList.remove('hidden');
}

function closeMenteeProfileModal() {
    document.getElementById('menteeProfileModal').classList.add('hidden');
}

// Update the event listener in your button
document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".view-mentee-profile-btn").forEach(btn => {
        btn.addEventListener("click", () => {
            const mentee = {
                name: btn.dataset.menteeName,
                email: btn.dataset.menteeEmail,
                stream: btn.dataset.menteeStream,
                school_college_name: btn.dataset.menteeSchool,
                goal: btn.dataset.menteeGoal,
                dob: btn.dataset.menteeDob,
                mobile_number: btn.dataset.menteeMobileNumber,
                mobile_country_code: btn.dataset.menteeMobileCountryCode,
                whatsapp_number: btn.dataset.menteeWhatsappNumber,
                whatsapp_country_code: btn.dataset.menteeWhatsappCountryCode,
                parent_name: btn.dataset.menteeParentName,
                parent_mobile: btn.dataset.menteeParentMobile,
                parent_mobile_country_code: btn.dataset.menteeParentMobileCountryCode,
                comments: btn.dataset.menteeComments,
                profile_picture: btn.dataset.menteeProfilePic,
                class_year: btn.dataset.menteeClassYear,
                favourite_subject: btn.dataset.menteeFavouriteSubject,
                who_am_i: btn.dataset.menteeWhoAmI,
                father_name: btn.dataset.menteeFatherName,
                address_line1: btn.dataset.menteeAddressLine1,
                address_line2: btn.dataset.menteeAddressLine2,
                city: btn.dataset.menteeCity,
                state: btn.dataset.menteeState,
                postal_code: btn.dataset.menteePostalCode,
                country: btn.dataset.menteeCountry,
                govt_private: btn.dataset.menteeGovtPrivate,
                education_level: btn.dataset.menteeEducationLevel,
                institution_name: btn.dataset.menteeInstitutionName,
                board_university: btn.dataset.menteeBoardUniversity,
                course_stream: btn.dataset.menteeCourseStream,
                career_interest: btn.dataset.menteeCareerInterest,
                current_role: btn.dataset.menteeCurrentRole,
                industry: btn.dataset.menteeIndustry,
                years_experience: btn.dataset.menteeYearsExperience,
                current_organization: btn.dataset.menteeCurrentOrganization,
                key_skills: btn.dataset.menteeKeySkills,
                career_goal: btn.dataset.menteeCareerGoal,
                mentorship_expectations: btn.dataset.menteeMentorshipExpectations
            };
            openMenteeProfileModal(mentee);
        });
    });
});

function closeMenteeProfileModal() {
  document.getElementById('menteeProfileModal').classList.add('hidden');
}

// Mentor Profile Functions
function openMentorProfileModal(mentorData) {
  document.getElementById('mentorName').textContent = mentorData.name || 'Not specified';
  document.getElementById('mentorEmail').textContent = mentorData.email || 'Not specified';
  
  // Professional Details
  document.getElementById('mentorProfession').textContent = mentorData.profession || 'Not specified';
  document.getElementById('mentorRole').textContent = mentorData.role || 'Not specified';
  document.getElementById('mentorOrganisation').textContent = mentorData.organisation || 'Not specified';
  document.getElementById('mentorExperience').textContent = mentorData.years_of_experience ? mentorData.years_of_experience + ' years' : 'Not specified';
  
  // Contact & Location
  document.getElementById('mentorLocation').textContent = mentorData.location || 'Not specified';
  document.getElementById('mentorWhatsapp').textContent = mentorData.whatsapp || 'Not specified';
  document.getElementById('mentorLanguage').textContent = mentorData.language || 'Not specified';
  
  // Educational Background
  document.getElementById('mentorHighestQualification').textContent = mentorData.highest_qualification || 'Not specified';
  document.getElementById('mentorDegreeName').textContent = mentorData.degree_name || 'Not specified';
  document.getElementById('mentorFieldOfStudy').textContent = mentorData.field_of_study || 'Not specified';
  document.getElementById('mentorUniversityName').textContent = mentorData.university_name || 'Not specified';
  document.getElementById('mentorGraduationYear').textContent = mentorData.graduation_year || 'Not specified';
  document.getElementById('mentorAcademicStatus').textContent = mentorData.academic_status || 'Not specified';
  
  // Certifications and Research (show/hide sections)
  const certificationsSection = document.getElementById('mentorCertificationsSection');
  const researchSection = document.getElementById('mentorResearchSection');
  
  if (mentorData.certifications && mentorData.certifications.trim()) {
    document.getElementById('mentorCertifications').textContent = mentorData.certifications;
    certificationsSection.style.display = 'block';
  } else {
    certificationsSection.style.display = 'none';
  }
  
  if (mentorData.research_work && mentorData.research_work.trim()) {
    document.getElementById('mentorResearchWork').textContent = mentorData.research_work;
    researchSection.style.display = 'block';
  } else {
    researchSection.style.display = 'none';
  }
  
  // Skills & Industry
  document.getElementById('mentorIndustry').textContent = mentorData.industry_sector || 'Not specified';
  document.getElementById('mentorSkills').textContent = mentorData.skills || 'Not specified';
  
  // Social Links (show/hide section and individual links)
  const socialLinksSection = document.getElementById('mentorSocialLinksSection');
  let hasSocialLinks = false;
  
  const socialLinks = [
    { data: mentorData.linkedin_link, element: 'mentorLinkedIn', div: 'mentorLinkedInDiv' },
    { data: mentorData.github_link, element: 'mentorGitHub', div: 'mentorGitHubDiv' },
    { data: mentorData.portfolio_link, element: 'mentorPortfolio', div: 'mentorPortfolioDiv' },
    { data: mentorData.other_social_link, element: 'mentorOtherSocial', div: 'mentorOtherSocialDiv' }
  ];
  
  socialLinks.forEach(link => {
    const linkDiv = document.getElementById(link.div);
    if (link.data && link.data.trim()) {
      document.getElementById(link.element).href = link.data;
      document.getElementById(link.element).textContent = link.data;
      linkDiv.style.display = 'block';
      hasSocialLinks = true;
    } else {
      linkDiv.style.display = 'none';
    }
  });
  
  socialLinksSection.style.display = hasSocialLinks ? 'block' : 'none';
  
  // Mentorship Preferences
  document.getElementById('mentorMentorshipTopics').textContent = mentorData.mentorship_topics || 'Not specified';
  document.getElementById('mentorMentorshipTypePreference').textContent = mentorData.mentorship_type_preference || 'Not specified';
  document.getElementById('mentorPreferredCommunication').textContent = mentorData.preferred_communication || 'Not specified';
  document.getElementById('mentorAvailability').textContent = mentorData.availability || 'Not specified';
  document.getElementById('mentorConnectFrequency').textContent = mentorData.connect_frequency || 'Not specified';
  document.getElementById('mentorPreferredDuration').textContent = mentorData.preferred_duration || 'Not specified';
  
  // Why Mentor
  document.getElementById('mentorWhyMentor').textContent = mentorData.why_mentor || 'Not specified';
  
  // Mentorship Philosophy (show/hide section)
  const philosophySection = document.getElementById('mentorPhilosophySection');
  const mottoDiv = document.getElementById('mentorMottoDiv');
  
  if (mentorData.mentorship_motto && mentorData.mentorship_motto.trim()) {
    document.getElementById('mentorMentorshipMotto').textContent = mentorData.mentorship_motto;
    mottoDiv.style.display = 'block';
  } else {
    mottoDiv.style.display = 'none';
  }
  
  if (mentorData.mentorship_philosophy && mentorData.mentorship_philosophy.trim()) {
    document.getElementById('mentorMentorshipPhilosophy').textContent = mentorData.mentorship_philosophy;
    philosophySection.style.display = 'block';
  } else if (mentorData.mentorship_motto && mentorData.mentorship_motto.trim()) {
    document.getElementById('mentorMentorshipPhilosophy').textContent = 'Not specified';
    philosophySection.style.display = 'block';
  } else {
    philosophySection.style.display = 'none';
  }
  
  // Additional Information (show/hide section)
  const additionalInfoSection = document.getElementById('mentorAdditionalInfoSection');
  if (mentorData.additional_info && mentorData.additional_info.trim()) {
    document.getElementById('mentorAdditionalInfo').textContent = mentorData.additional_info;
    additionalInfoSection.style.display = 'block';
  } else {
    additionalInfoSection.style.display = 'none';
  }
  
  // Profile Picture
  const profilePic = document.getElementById('mentorProfilePic');
  if (mentorData.profile_picture) {
    profilePic.src = '/static/uploads/' + mentorData.profile_picture;
  } else {
    profilePic.src = 'https://via.placeholder.com/112?text=' + encodeURIComponent((mentorData.name || '?').charAt(0));
  }
  
  document.getElementById('mentorProfileModal').classList.remove('hidden');
}

function closeMentorProfileModal() {
  document.getElementById('mentorProfileModal').classList.add('hidden');
}

// Event Listeners
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.view-mentee-profile-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const menteeData = {
        name: this.getAttribute('data-mentee-name'),
        email: this.getAttribute('data-mentee-email'),
        who_am_i: this.getAttribute('data-who-am-i'),
        education_level: this.getAttribute('data-education-level'),
        institution_name: this.getAttribute('data-institution-name'),
        board_university: this.getAttribute('data-board-university'),
        course_stream: this.getAttribute('data-course-stream'),
        school_name: this.getAttribute('data-school-name'),
        school_board: this.getAttribute('data-school-board'),
        school_passing_year: this.getAttribute('data-school-passing-year'),
        career_interest: this.getAttribute('data-career-interest'),
        current_role: this.getAttribute('data-current-role'),
        industry: this.getAttribute('data-industry'),
        years_experience: this.getAttribute('data-years-experience'),
        current_organization: this.getAttribute('data-current-organization'),
        key_skills: this.getAttribute('data-key-skills'),
        career_goal: this.getAttribute('data-career-goal'),
        startup_stage: this.getAttribute('data-startup-stage'),
        startup_name: this.getAttribute('data-startup-name'),
        startup_industry: this.getAttribute('data-startup-industry'),
        team_size: this.getAttribute('data-team-size'),
        main_challenge: this.getAttribute('data-main-challenge'),
        mentorship_type: this.getAttribute('data-mentorship-type'),
        freelance_skill: this.getAttribute('data-freelance-skill'),
        freelance_experience: this.getAttribute('data-freelance-experience'),
        freelance_platforms: this.getAttribute('data-freelance-platforms'),
        freelance_challenge: this.getAttribute('data-freelance-challenge'),
        last_role: this.getAttribute('data-last-role'),
        career_break_reason: this.getAttribute('data-career-break-reason'),
        restart_field: this.getAttribute('data-restart-field'),
        support_expected: this.getAttribute('data-support-expected'),
        dob: this.getAttribute('data-dob'),
        father_name: this.getAttribute('data-father-name'),
        address_line1: this.getAttribute('data-address-line1'),
        address_line2: this.getAttribute('data-address-line2'),
        city: this.getAttribute('data-city'),
        state: this.getAttribute('data-state'),
        postal_code: this.getAttribute('data-postal-code'),
        country: this.getAttribute('data-country'),
        institution: this.getAttribute('data-institution'),
        institution_other: this.getAttribute('data-institution-other'),
        school_college_name: this.getAttribute('data-school'),
        mobile_number: this.getAttribute('data-mobile'),
        mobile_country_code: this.getAttribute('data-mobile-country-code'),
        whatsapp_number: this.getAttribute('data-whatsapp'),
        whatsapp_country_code: this.getAttribute('data-whatsapp-country-code'),
        govt_private: this.getAttribute('data-govt-private'),
        stream: this.getAttribute('data-stream'),
        class_year: this.getAttribute('data-class'),
        favourite_subject: this.getAttribute('data-favourite-subject'),
        goal: this.getAttribute('data-goal'),
        parent_name: this.getAttribute('data-parent-name'),
        parent_mobile: this.getAttribute('data-parent-mobile'),
        parent_mobile_country_code: this.getAttribute('data-parent-mobile-country-code'),
        comments: this.getAttribute('data-comments'),
        mentorship_expectations: this.getAttribute('data-mentorship-expectations'),
        profile_picture: this.getAttribute('data-picture')
      };
      openMenteeProfileModal(menteeData);
    });
  });

  document.querySelectorAll('.view-mentor-profile-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const mentorData = {
        name: this.getAttribute('data-mentor-name'),
        email: this.getAttribute('data-mentor-email'),
        profession: this.getAttribute('data-profession'),
        organisation: this.getAttribute('data-organisation'),
        years_of_experience: this.getAttribute('data-experience'),
        location: this.getAttribute('data-location'),
        education: this.getAttribute('data-education'),
        industry_sector: this.getAttribute('data-industry'),
        skills: this.getAttribute('data-skills'),
        why_mentor: this.getAttribute('data-why-mentor'),
        profile_picture: this.getAttribute('data-picture'),
        role: this.getAttribute('data-role'),
        whatsapp: this.getAttribute('data-whatsapp'),
        language: this.getAttribute('data-language'),
        highest_qualification: this.getAttribute('data-highest-qualification'),
        degree_name: this.getAttribute('data-degree-name'),
        field_of_study: this.getAttribute('data-field-of-study'),
        university_name: this.getAttribute('data-university-name'),
        graduation_year: this.getAttribute('data-graduation-year'),
        academic_status: this.getAttribute('data-academic-status'),
        certifications: this.getAttribute('data-certifications'),
        research_work: this.getAttribute('data-research-work'),
        linkedin_link: this.getAttribute('data-linkedin-link'),
        github_link: this.getAttribute('data-github-link'),
        portfolio_link: this.getAttribute('data-portfolio-link'),
        other_social_link: this.getAttribute('data-other-social-link'),
        mentorship_topics: this.getAttribute('data-mentorship-topics'),
        mentorship_type_preference: this.getAttribute('data-mentorship-type-preference'),
        preferred_communication: this.getAttribute('data-preferred-communication'),
        availability: this.getAttribute('data-availability'),
        connect_frequency: this.getAttribute('data-connect-frequency'),
        preferred_duration: this.getAttribute('data-preferred-duration'),
        mentorship_philosophy: this.getAttribute('data-mentorship-philosophy'),
        mentorship_motto: this.getAttribute('data-mentorship-motto'),
        additional_info: this.getAttribute('data-additional-info')
      };
      openMentorProfileModal(mentorData);
    });
  });
});
</script>

</main>
{% endblock %}
